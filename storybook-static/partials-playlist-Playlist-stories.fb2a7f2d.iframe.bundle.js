"use strict";(self.webpackChunkamit_ui_microsite_storybook=self.webpackChunkamit_ui_microsite_storybook||[]).push([[823],{"./stories/partials/playlist/Playlist.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playlist:()=>Playlist,PlaylistWithoutCarousel:()=>PlaylistWithoutCarousel,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Playlist_stories});var carousel=__webpack_require__("./node_modules/@amitgroup/microsite/carousel/index.ts"),core_element=__webpack_require__("./node_modules/@amitgroup/microsite/core/element.ts"),video=__webpack_require__("./node_modules/@amitgroup/microsite/video/index.ts");class MicrositePlaylist extends core_element.B{constructor(config){var _a,_b,_c;super(),this.config=config,this.carouselEl=config.carouselEl,this.videoEl=config.videoEl,this.toggleEl=config.toggleEl,this.carouselConfig=Object.assign(Object.assign(Object.assign({},config.carouselConfig||{}),{onClickItem:this.onClickToggle.bind(this)}),{tracking:Object.assign(Object.assign({},config.tracking||{}),(null===(_a=config.carouselConfig)||void 0===_a?void 0:_a.tracking)||{})}),this.videoConfig=Object.assign(Object.assign({},config.videoConfig||{}),{tracking:Object.assign(Object.assign({},config.tracking||{}),(null===(_b=config.videoConfig)||void 0===_b?void 0:_b.tracking)||{})}),this.toggleConfig=Object.assign(Object.assign({},config.toggleConfig||{}),{tracking:Object.assign(Object.assign({},config.tracking||{}),(null===(_c=config.toggleConfig)||void 0===_c?void 0:_c.tracking)||{})}),this.init()}init(){this.video=new video.HW(this.config.videoEl,this.videoConfig),this.carouselEl&&(this.carousel=new carousel.v(this.config.carouselEl,this.carouselConfig)),this.toggleEl,NodeList.prototype.isPrototypeOf(this.toggleEl)&&(NodeList.prototype.isPrototypeOf(this.toggleEl)?this.toggleEl.forEach((item=>{item.addEventListener("click",(e=>{this.onClickToggle(e,item,!0)}))})):this.toggleEl.addEventListener("click",(e=>{this.onClickToggle(e,this.toggleEl,!0)})))}onClickToggle(e,item,isToggle=!1){var _a,_b,_c,_d,_e,_f;const src=item.getAttribute("data-src"),name=item.getAttribute("data-video-name");this.video.changeSource(src,name),console.log(e,item,isToggle,this.toggleConfig),isToggle&&this.toggleConfig.tracking&&this.sendGA((null===(_b=null===(_a=this.trackingConfig)||void 0===_a?void 0:_a.events)||void 0===_b?void 0:_b.toggleClick)?Object.assign(Object.assign({},null===(_d=null===(_c=this.trackingConfig)||void 0===_c?void 0:_c.events)||void 0===_d?void 0:_d.toggleClick),{action:null===(_f=null===(_e=this.trackingConfig)||void 0===_e?void 0:_e.events)||void 0===_f?void 0:_f.toggleClick.action.replace("{name}",item.getAttribute("data-name"))}):{action:`${item.getAttribute("data-name")} Clicked`,target:"",label:this.toggleConfig.tracking.label,category:this.toggleConfig.tracking.category})}initCarousel(){}initEvents(){}}window.MicrositePlaylist=MicrositePlaylist;var _a,_b,_c,_d,_e,_f;const Playlist_stories={title:"Partials/Playlist",tags:["autodocs"]},Playlist=(args=>(args=>{const container=document.createElement("DIV");container.style.maxWidth="80%",container.style.margin="0 auto";const videoContainer=document.createElement("div");videoContainer.className="am-video-container",videoContainer.style.width="600px",videoContainer.style.margin="0 auto",videoContainer.innerHTML='\n    <video class="am-video" data-name="TVC 1" src="/videos/tvc1.mp4" poster="https://i.ytimg.com/vi/9bZkp7q19f0/maxresdefault.jpg" controls></video>\n  ';const carousel=document.createElement("DIV");return carousel.className="owl-carousel owl-theme am-carousel",carousel.setAttribute("data-name","Example Carousel"),carousel.innerHTML='\n    <div class="item" data-src="/videos/tvc1.mp4" data-video-name="TVC 1" data-name="1">\n      <img src="https://picsum.photos/1920/1080?random=1" alt="Image 1" />\n    </div>  \n    <div class="item" data-src="/videos/tvc2.mp4" data-video-name="TVC 2" data-name="2">\n      <img src="https://picsum.photos/1920/1080?random=2" alt="Image 2" />\n    </div>  \n    <div class="item" data-src="/videos/tvc1.mp4" data-video-name="TVC 3" data-name="3">\n      <img src="https://picsum.photos/1920/1080?random=3" alt="Image 3" />\n    </div>  \n    <div class="item" data-src="/videos/tvc2.mp4" data-video-name="TVC 4" data-name="4">\n      <img src="https://picsum.photos/1920/1080?random=4" alt="Image 4" />\n    </div>  \n  ',container.appendChild(videoContainer),container.appendChild(carousel),container})()).bind({});Playlist.play=({canvasElement,args})=>{const video=canvasElement.querySelector(".am-video"),carousel=canvasElement.querySelector(".am-carousel");new MicrositePlaylist({carouselEl:carousel,carouselConfig:{tracking:{label:"Playlist",category:"Engagement"}},videoEl:video,videoConfig:{customControl:!0,tracking:{label:"Playlist",category:"Video Interaction"}}})},Playlist.parameters={docs:{source:{code:'\n<div class="am-playlist" style="max-width: 80%; margin: 0px auto;">\n  <div class="am-video-container" style="width: 600px; margin: 0px auto;">\n    <video class="am-video" data-name="TVC 1" src="static/media/src/microsite/assets/videos/tvc1.mp4" poster="https://i.ytimg.com/vi/9bZkp7q19f0/maxresdefault.jpg" controls=""></video>\n  </div>\n  <div class="owl-carousel owl-theme am-carousel" data-name="Example Carousel">\n    <div class="item" data-src="static/media/src/microsite/assets/videos/tvc1.mp4" data-video-name="TVC 1" data-name="1">\n      <img src="https://picsum.photos/1920/1080?random=1" alt="Image 1">\n    </div>  \n    <div class="item" data-src="static/media/src/microsite/assets/videos/tvc2.mp4" data-video-name="TVC 2" data-name="2">\n      <img src="https://picsum.photos/1920/1080?random=2" alt="Image 2">\n    </div>  \n    <div class="item" data-src="static/media/src/microsite/assets/videos/tvc1.mp4" data-video-name="TVC 3" data-name="3">\n      <img src="https://picsum.photos/1920/1080?random=3" alt="Image 3">\n    </div>  \n    <div class="item" data-src="static/media/src/microsite/assets/videos/tvc2.mp4" data-video-name="TVC 4" data-name="4">\n      <img src="https://picsum.photos/1920/1080?random=4" alt="Image 4">\n    </div>  \n  </div>\n</div>\n<script>\n  new MicrositePlaylist({\n    carouselEl: document.querySelector(\'.am-carousel\'),\n    carouselConfig: {\n      tracking: {\n        label: "Playlist",\n        category: "Engagement"\n      }\n    },\n    videoEl: document.querySelector(\'.am-video\'),\n    videoConfig: {\n      customControl: true,\n      tracking: {\n        label: "Playlist",\n        category: "Video Interaction"\n      }\n    }\n  });\n<\/script>\n    '}}};const PlaylistWithoutCarousel=args=>(args=>{const container=document.createElement("DIV");container.style.maxWidth="80%",container.style.margin="0 auto";const videoContainer=document.createElement("div");videoContainer.className="am-video-container",videoContainer.style.width="600px",videoContainer.style.margin="0 auto",videoContainer.innerHTML='\n    <video class="am-video" data-name="TVC 1" src="/videos/tvc1.mp4" poster="https://i.ytimg.com/vi/9bZkp7q19f0/maxresdefault.jpg" controls></video>\n  ';const nav=document.createElement("DIV");return nav.className="row justify-content-center align-items-center",nav.innerHTML='\n    <div class="col-4"  >\n      <a href="javascript: void(0)" class="am-playlist-toggle" data-src="/videos/tvc1.mp4" data-video-name="TVC 1" data-name="1">\n        <img src="https://picsum.photos/1920/1080?random=1" alt="Image 1" />\n      </a>\n    </div>  \n    <div class="col-4"  >\n      <a href="javascript: void(0)" class="am-playlist-toggle" data-src="/videos/tvc2.mp4" data-video-name="TVC 2" data-name="2">\n        <img src="https://picsum.photos/1920/1080?random=2" alt="Image 2" />\n      </a>\n    </div>  \n  ',container.appendChild(videoContainer),container.appendChild(nav),container})();PlaylistWithoutCarousel.storyName="Playlist without Carousel",PlaylistWithoutCarousel.play=({canvasElement,args})=>{const video=canvasElement.querySelector(".am-video"),toggles=canvasElement.querySelectorAll(".am-playlist-toggle");new MicrositePlaylist({videoEl:video,toggleEl:toggles,tracking:{label:"Playlist",category:"Engagement",events:{toggleClick:{action:"Playlist Toggle {name} Clicked"}}}})},Playlist.parameters=Object.assign(Object.assign({},Playlist.parameters),{docs:Object.assign(Object.assign({},null===(_a=Playlist.parameters)||void 0===_a?void 0:_a.docs),{source:Object.assign({originalSource:"args => {\n  return createPlaylist(args);\n}"},null===(_c=null===(_b=Playlist.parameters)||void 0===_b?void 0:_b.docs)||void 0===_c?void 0:_c.source)})}),PlaylistWithoutCarousel.parameters=Object.assign(Object.assign({},PlaylistWithoutCarousel.parameters),{docs:Object.assign(Object.assign({},null===(_d=PlaylistWithoutCarousel.parameters)||void 0===_d?void 0:_d.docs),{source:Object.assign({originalSource:"args => {\n  return createPlaylistWithoutCarousel(args);\n}"},null===(_f=null===(_e=PlaylistWithoutCarousel.parameters)||void 0===_e?void 0:_e.docs)||void 0===_f?void 0:_f.source)})});const __namedExportsOrder=["Playlist","PlaylistWithoutCarousel"]},"./node_modules/@amitgroup/microsite/video/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HW:()=>MicrositeVideo});const buttonPlay=__webpack_require__("./node_modules/@amitgroup/microsite/assets/images/btn_play.png"),buttonReplay=__webpack_require__("./node_modules/@amitgroup/microsite/assets/images/btn_replay.png"),buttonSoundOff=__webpack_require__("./node_modules/@amitgroup/microsite/assets/images/btn_sound_off.png"),buttonSoundOn=__webpack_require__("./node_modules/@amitgroup/microsite/assets/images/btn_sound_on.png");class MicrositeVideoControl{constructor(video,config){this.video=video,this.config=config,this.render()}render(){this.button=document.createElement("button"),this.button.type="button",this.button.className=`am-video-control am-video-control-${this.config.type}`,this.button.innerHTML=`<img src="${this.image}" alt="${this.config.type}" />`,("play"===this.config.type&&!this.video.element.hasAttribute("autoplay")||"sound-on"===this.config.type&&!this.video.element.muted||"sound-off"===this.config.type&&this.video.element.muted)&&this.button.classList.add("show");["click"].forEach((event=>{this.button.addEventListener(event,this.onClick.bind(this))})),this.video.container.appendChild(this.button)}show(){this.button.classList.add("show")}hide(){this.button.classList.remove("show")}}class MicrositeVideoPlayControl extends MicrositeVideoControl{get image(){return this.config.image||buttonPlay}onClick(){this.video.play()}}class MicrositeVideoReplayControl extends MicrositeVideoControl{get image(){return this.config.image||buttonReplay}onClick(){this.video.replay()}}class MicrositeVideoSoundOffControl extends MicrositeVideoControl{get image(){return this.config.image||buttonSoundOff}onClick(){this.video.soundOn()}}class MicrositeVideoSoundOnControl extends MicrositeVideoControl{get image(){return this.config.image||buttonSoundOn}onClick(){this.video.soundOff()}}window.MicrositeVideoSoundOffControl=MicrositeVideoSoundOffControl,window.MicrositeVideoSoundOnControl=MicrositeVideoSoundOnControl,window.MicrositeVideoPlayControl=MicrositeVideoPlayControl,window.MicrositeVideoReplayControl=MicrositeVideoReplayControl;var core_element=__webpack_require__("./node_modules/@amitgroup/microsite/core/element.ts");class MicrositeVideo extends core_element.B{get enableCustomControl(){return!0===this.config.customControl||"object"==typeof this.config.customControl}get enablePlayControl(){return!0===this.config.customControl||"object"==typeof this.config.customControl&&(!0===this.config.customControl.play||"object"==typeof this.config.customControl.play)}get enableSoundOffControl(){return!0===this.config.customControl||"object"==typeof this.config.customControl&&(!0===this.config.customControl.soundOff||"object"==typeof this.config.customControl.soundOff)}get enableSoundOnControl(){return!0===this.config.customControl||"object"==typeof this.config.customControl&&(!0===this.config.customControl.soundOn||"object"==typeof this.config.customControl.soundOn)}get enableReplayControl(){return!0===this.config.customControl||"object"==typeof this.config.customControl&&(!0===this.config.customControl.replay||"object"==typeof this.config.customControl.replay)}constructor(element,config){super(),this.element="string"==typeof element?document.querySelector(element):element,this.id=this.element.getAttribute("id")||this.generateID(),null===this.element.getAttribute("id")&&(this.element.id=this.id),this.config=config,this.container=this.element.parentElement,this.init()}init(){this.initControls(),this.initEvents()}play(){this.element.play()}pause(){this.element.pause()}replay(){this.element.currentTime=0,this.element.play()}soundOn(){this.element.muted=!1}soundOff(){this.element.muted=!0}initControls(){this.enableCustomControl&&(this.element.removeAttribute("controls"),this.controls={play:this.enablePlayControl?new MicrositeVideoPlayControl(this,{type:"play"}):null,soundOff:this.enableSoundOffControl?new MicrositeVideoSoundOffControl(this,{type:"sound-off"}):null,soundOn:this.enableSoundOnControl?new MicrositeVideoSoundOnControl(this,{type:"sound-on"}):null,replay:this.enableReplayControl?new MicrositeVideoReplayControl(this,{type:"replay"}):null})}initEvents(){this.element.addEventListener("play",this.onPlay.bind(this)),this.element.addEventListener("pause",this.onPause.bind(this)),this.element.addEventListener("ended",this.onEnded.bind(this)),this.element.addEventListener("volumechange",this.onVolumeChange.bind(this)),this.element.addEventListener("timeupdate",this.onTimeUpdate.bind(this));"ontouchstart"in window||navigator.maxTouchPoints||navigator.msMaxTouchPoints?this.element.addEventListener("touchend",this.onClick.bind(this)):this.element.addEventListener("click",this.onClick.bind(this))}onPlay(){var _a,_b,_c,_d;this.enablePlayControl&&this.controls.play.hide(),this.enableReplayControl&&this.controls.replay.hide(),this.element.setAttribute("controls","true"),this.enableReplayControl&&this.element.hasAttribute("data-ended")?this.sendGA((null===(_b=null===(_a=this.trackingConfig)||void 0===_a?void 0:_a.events)||void 0===_b?void 0:_b.videoReplay)||"Replay Clicked"):this.sendGA((null===(_d=null===(_c=this.trackingConfig)||void 0===_c?void 0:_c.events)||void 0===_d?void 0:_d.videoPlay)||"Play Clicked"),this.element.removeAttribute("data-ended")}onPause(){var _a,_b;this.enablePlayControl&&this.controls.play.show(),this.enableCustomControl&&this.enablePlayControl&&this.element.removeAttribute("controls"),this.sendGA((null===(_b=null===(_a=this.trackingConfig)||void 0===_a?void 0:_a.events)||void 0===_b?void 0:_b.videoPause)||"Pause Clicked")}onEnded(){this.element.setAttribute("data-ended","true"),this.enableReplayControl?this.controls.replay.show():this.controls.play.show()}onVolumeChange(){var _a,_b,_c,_d;(this.enableSoundOffControl||this.enableSoundOnControl)&&(this.element.muted?(this.controls.soundOff.show(),this.controls.soundOn.hide(),this.sendGA((null===(_b=null===(_a=this.trackingConfig)||void 0===_a?void 0:_a.events)||void 0===_b?void 0:_b.videoSoundOff)||"SoundOff Clicked")):(this.controls.soundOff.hide(),this.controls.soundOn.show(),this.sendGA((null===(_d=null===(_c=this.trackingConfig)||void 0===_c?void 0:_c.events)||void 0===_d?void 0:_d.videoSoundOn)||"SoundOn Clicked")))}onClick(e){e.preventDefault(),e.stopPropagation(),this.element.paused?this.play():this.pause()}changeSource(src,name){this.element.src=src,name&&this.element.setAttribute("data-name",name),this.element.currentTime=0,this.play()}onTimeUpdate(){}}window.MicrositeVideo=MicrositeVideo},"./node_modules/@amitgroup/microsite/assets/images/btn_play.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/btn_play.6e8d2c7c.png"},"./node_modules/@amitgroup/microsite/assets/images/btn_replay.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/btn_replay.801540b2.png"},"./node_modules/@amitgroup/microsite/assets/images/btn_sound_off.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/btn_sound_off.2e7a7a82.png"},"./node_modules/@amitgroup/microsite/assets/images/btn_sound_on.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/btn_sound_on.533875a1.png"}}]);